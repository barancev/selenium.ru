<!doctype html><html class="no-js" lang="ru"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title> David Burns: Marionette скоро придёт на смену драйверу Firefox в Selenium</title><link rel="stylesheet" type="text/css" href="https://webdriver.ru/assets/css/styles_feeling_responsive.css" /> <script src="https://webdriver.ru/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Source Code Pro', 'Arimo::cyrillic', 'Philosopher::cyrillic' ] } }); </script> <noscript><link rel="preload" href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Arimo|Philosopher' rel='stylesheet' type='text/css' /> </noscript><meta name="description" content="Выпуск очередной версии Selenium 2.26 задерживается, потому что в ней сделана попытка серьёзно улучшить протоколирование (logging) действий Selenium во всех местах -- в клиенте, сервере, браузере. Но переработка системы протоколирования привела к тому, что сервер непрерывной интеграции тоже пришлось перестраивать, а без &quot;зелёного сигнала&quot; очередной релиз не выпускается. Поэтому пока небольшой рассказ не о следующей версии, а о более отдалённом будущем -- о том, как дальше будет развиваться драйвер для браузера Firefox" /><link rel="icon" sizes="32x32" href="https://webdriver.ru/assets/img/favicon-32x32.png" /><link rel="icon" sizes="192x192" href="https://webdriver.ru/assets/img/touch-icon-192x192.png" /><link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://webdriver.ru/assets/img/apple-touch-icon-180x180-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://webdriver.ru/assets/img/apple-touch-icon-152x152-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://webdriver.ru/assets/img/apple-touch-icon-144x144-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://webdriver.ru/assets/img/apple-touch-icon-120x120-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://webdriver.ru/assets/img/apple-touch-icon-114x114-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://webdriver.ru/assets/img/apple-touch-icon-76x76-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://webdriver.ru/assets/img/apple-touch-icon-72x72-precomposed.png" /><link rel="apple-touch-icon-precomposed" href="https://webdriver.ru/assets/img/apple-touch-icon-precomposed.png" /><meta name="msapplication-TileImage" content="https://webdriver.ru/assets/img/msapplication_tileimage.png" /><meta name="msapplication-TileColor" content="#fabb00" /><meta property="og:locale" content="en_EN" /><meta property="og:title" content="David Burns: Marionette скоро придёт на смену драйверу Firefox в Selenium" /><meta property="og:description" content="Выпуск очередной версии Selenium 2.26 задерживается, потому что в ней сделана попытка серьёзно улучшить протоколирование (logging) действий Selenium во всех местах -- в клиенте, сервере, браузере. Но переработка системы протоколирования привела к тому, что сервер непрерывной интеграции тоже пришлось перестраивать, а без &quot;зелёного сигнала&quot; очередной релиз не выпускается. Поэтому пока небольшой рассказ не о следующей версии, а о более отдалённом будущем -- о том, как дальше будет развиваться драйвер для браузера Firefox"/><meta property="og:url" content="https://webdriver.ru//news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" /><meta property="og:site_name" content="Selenium WebDriver: автоматизация веб-приложений" /><link type="text/plain" rel="author" href="https://webdriver.ru/humans.txt" /><body id="top-of-page" class="post"><div id="page"><div id="masthead-no-image-header"><div class="row"><div class="small-12 columns"> <a id="logo" href="https://webdriver.ru" title="Selenium WebDriver: автоматизация веб-приложений"> <img src="https://webdriver.ru/assets/img/logo.png" alt="Selenium WebDriver: автоматизация веб-приложений – "><h1>Selenium WebDriver</h1><h2>автоматизация веб-приложений</h2></a></div></div></div><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar><ul class="title-area"><li class="name"><h1 class="show-for-small-only"><a href="https://webdriver.ru" class="icon-tree"> Selenium WebDriver</a></h1><li class="toggle-topbar menu-icon"><a href="#"><span>Меню</span></a></ul><section class="top-bar-section"><ul class="right"><li class="divider"><li><a href="https://webdriver.ru/search/">Поиск</a></ul><ul class="left"><li link-url="/" page-url="/news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" ><a href="https://webdriver.ru/">Старт</a><li class="divider"><li link-url="/news/" page-url="/news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" class="active"><a href="https://webdriver.ru/news/">Новости</a><li class="divider"><li link-url="/blog/" page-url="/news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" ><a href="https://webdriver.ru/blog/">Блог</a><li class="divider"><li link-url="/trainings/" page-url="/news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" ><a href="https://webdriver.ru/trainings/">Обучение</a><li class="divider"><li link-url="http://software-testing.ru/forum/index.php?/forum/129-selenium-functional-testing/" page-url="/news/2012-08-28-marionette-is-the-future-of-firefoxdriver/" ><a href="http://software-testing.ru/forum/index.php?/forum/129-selenium-functional-testing/" target="_blank">Форум</a><li class="divider"></ul></section></nav><div id="breadcrumb"><div class="row"><nav class="breadcrumbs bootstrap hidden-sm-down"> <a property="item" typeof="WebPage" href="/index.html"> <span class="icon-home" property="name"></span><meta property="position" content="1" /> </a> <a property="item" typeof="WebPage" href="/news/index.html"> <span property="name">Новости</span><meta property="position" content="2" /> </a> <span property="name">David Burns: Marionette скоро придёт на смену драйверу Firefox в Selenium</span><meta property="position" content="3" /></nav></div></div></div><div class="row t30"><div class="medium-8 columns"><article itemscope itemtype="http://schema.org/Article"><header> <span itemprop="name"><div class="date"><time class="icon-calendar pr20" datetime="2012-08-28" itemprop="datePublished"> 28 августа 2012 </time></div><h1>David Burns: Marionette скоро придёт на смену драйверу Firefox в Selenium</h1></span></header><span itemprop="articleSection"><p><em>Выпуск очередной версии Selenium 2.26 задерживается, потому что в ней сделана попытка серьёзно улучшить протоколирование (logging) действий Selenium во всех местах – в клиенте, сервере, браузере. Но переработка системы протоколирования привела к тому, что сервер непрерывной интеграции тоже пришлось перестраивать, а без “зелёного сигнала” очередной релиз не выпускается. Поэтому пока небольшой рассказ не о следующей версии, а о более отдалённом будущем – о том, как дальше будет развиваться драйвер для браузера Firefox.</em><p><strong>Автор: David Burns (Mozilla)</strong>, главный специалист по реализации клиента Selenium на языке python<p><strong>Оригинал:</strong> <a href="http://www.theautomatedtester.co.uk/blog/2012/marionette-the-future-of-firefoxdriver-in-selenium.html">Marionette - The Future of FirefoxDriver in Selenium</a><p>Ни для кого не секрет, что Selenium WebDriver находится на пути к утверждению его в качестве <a href="http://www.w3.org/TR/webdriver/">стандарта W3C</a>. Компания Opera первая сделала шаг на пути интеграции этого стандарта в свой браузер, выпустив <a href="http://www.opera.com/developer/tools/operadriver/">OperaDriver</a>. Следом за этим команда разработчиков Google Chrome сделала <a href="http://code.google.com/p/chromedriver/">ChromeDriver</a>. Этот драйвер представляет собой исполняемый файл, который загружается отдельно от браузера и клиенских библиотек Selenium. И кто же следующий? Mozilla.<p><strong>Почему нам нужен новый FirefoxDriver для Selenium?</strong><p>Mozilla сейчас работает над проектом, который носит название <a href="https://wiki.mozilla.org/Auto-tools/Projects/Marionette">Marionette</a>, это новая версия FirefoxDriver, которая в будущем заменит существующую. Первоначально Marionette был задуман для автоматизации <a href="http://www.mozilla.org/en-US/b2g/">Firefox OS</a>, которая по сути представляет собой ядро, запускающее Gecko, то есть тот же самый движок, на котором реализован Firefox. Я признаю, что это чересчур упрощённое объяснение, но в контексте этой заметки подробности неважны. Когда разработка Marionette начиналась, Firefox OS не позволяла устанавливать расширения Firefox, то есть текущая реализация FirefoxDriver, основанная на установке расширения и модификации настроек во время запуска браузера, не могла быть использована.<p>Примерно в то же время я работал среди прочего в проекте <a href="http://www.mozilla.org/en-US/apps/">Mozilla Open Web Apps</a>. Эта штука позволяет инсталлировать веб-приложения в операционную систему и использовать их точно так же, как обычные приложения. Увы, там тоже нет возможности подключать расширения при старте установленного в систему веб-приложения. Поэтому ни Firefox OS, ни Open Web Apps не могли использовать имеющуюся реализацию FirefoxDriver.<p>И тогда за дело взялась <a href="https://wiki.mozilla.org/Auto-tools/The_Ateam">команда Automation and Tools Team, которая внутри Mozilla известна как A-Team</a>. Двое членов этой команды - <a href="https://twitter.com/malinidas">Malini Das</a> и <a href="http://jagriffin.wordpress.com/">Jonathan Griffin</a>, начали придумывать способ, как заставить работать фреймворк автоматизации и систему сборки. За основу при создании Marionette они взяли Selenium JSON Wire Protocol, что вполне согласовывалось с планами по утверждению Selenium в качестве стандарта W3C. На текущий момент Malini и Jonathan довели этот проект до вполне стабильного состояния, удовлетворяющего потребностям команды, разрабатывающей Firefox OS. Мне удалось заставить его работать в десктопной версии, теперь Marionette делает то, что мне нужно для Open Web Apps, и в ближайшие полгода мы собираемся довести этот проект до логического завершения.<p><strong>Как это работает?</strong><p>Marionette использует в качестве транспорта механизм JavaScript Remote Debugger, который вскоре появится в официальных релизах Firefox. Для этого в браузере открывается сокет, к которому мы можем присоединиться и отправлять команды, которые браузер должен исполнять. Означает ли это, что мы не в точности следуем протоколу JSON Wire Protocol? Да, мы реализовали собственную версию JSON Wire Protocol, главным образом для того, чтобы удовлетворить требованиям того транспортного механизма, который был в нашем распоряжении. Это простой сокет, через него можно установить telnet-соединение и отправлять команды, и не нужен никакой веб-сервер, работающий внутри браузера. Такое решение получается очень лёгким, сначала мы сделали это для мобильных устройств, а потом решили использовать и для десктопных тоже.<p><strong>Чем можно управлять?</strong><p>Marionette позволяет работать не только с содержимым страниц, он предоставляет также доступ к функциям защищенного режима <a href="https://developer.mozilla.org/en/Chrome">chrome</a>. Marionette должен стать центральным звеном во всех фреймворках автоматизации, которые создаются внутри Mozilla. А их довольно много, потому что в каждом проекте свои уникальные требования. И мы будем стремиться к тому, чтобы возможности Marionette полностью, или почти полностью, покрывали потребности этих проектов в автоматизации.<p><strong>Бонусы</strong><p>Поскольку Marionette разрабатывается внутри Mozilla, поскольку в его разработке участвуют люди, хорошо знакомые с устройством браузера, поскольку он станет частью производственного процесса Mozilla - все поломки Marionette будут обнаруживаться и устраняться в самые кратчайшие сроки. А для этого FirefoxDriver должен стать неотъемлемой частью производственного процесса Mozilla!<p>И где всё это можно попробовать? Сейчас для этого нужно использовать <a href="ftp://ftp.mozilla.org/pub/firefox/nightly/2012/">отладочные сборки Firefox</a>. Почему только отладочные, неужели Marionette настолько нестабилен? Потому что сначала мы должны пройти внутренний аудит безопасности - открытый сокет и возможность удаленного управления браузером несут в себе определённую опасность: злоумышленник может нарушить работу вашего браузера или получить несанкционированный доступ к данным. Конечно, по умолчанию эти возможности будут отключены, но потенциальная опасность всё таки есть. </span><div id="page-meta" class="t30"><p> <time class="icon-calendar pr20" datetime="2012-08-28" itemprop="datePublished"> 28 августа 2012 </time> <span class="icon-archive pr20">&nbsp;<a href="https://webdriver.ru/news/">НОВОСТИ</a></span> <br /> <span class="pr20"></span><ul class="pager"><li><a href="https://webdriver.ru/news/2012-08-06-explaining-the-speed-of-selenium-updates/">&larr; Саймон Стюарт о частоте выхода релизов Selenium</a><li>&nbsp;|&nbsp;<li><a href="https://webdriver.ru/news/2012-10-31-okonchanie-rassylki-selenium-2-0-sotnya-poleznykh-sovetov-i-50-skidka-na-arkhiv-vsekh-vypuskov/">Окончание рассылки "Selenium 2.0: сотня полезных советов" &rarr;</a></ul></div></article></div><div class="medium-4 columns"><aside><div class="panel radius"><h3>Новые публикации</h3><ul class="side-nav"><li><a href="https://webdriver.ru/news/2019-11-25-seleniumconf-london/">Опубликованы материалы конференции SeleniumConf London 2019</a><li><a href="https://webdriver.ru/news/2019-11-18-selenium-dev/">Запущен новый сайт selenium.dev</a><li><a href="https://webdriver.ru/news/2018-07-10-selenium-314/">Вышел релиз Selenium 3.14</a><li><a href="https://webdriver.ru/news/2018-07-10-selenium-313/">Вышел релиз Selenium 3.13</a><li><a href="https://webdriver.ru/news/2018-06-25-selenium-312/">Вышел релиз Selenium 3.12</a></ul></div><div class="panel radius"><h3>Ближайшие тренинги</h3><ul class="side-nav"><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/242-selenium-webdriver"><time class="icon-calendar date"> 18 июня 2021</time><br>Selenium WebDriver: полное руководство</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/226-csharp-for-testers"><time class="icon-calendar date"> 25 июня 2021</time><br>Программирование на C# для тестировщиков</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/19-performance-testing-jmeter"><time class="icon-calendar date"> 2 июля 2021</time><br>Тестирование производительности: JMeter 5</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/185-selenium"><time class="icon-calendar date"> 9 июля 2021</time><br>Selenium IDE 3: стартовый уровень</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/1-java-for-testers"><time class="icon-calendar date"> 9 июля 2021</time><br>Программирование на Java для тестировщиков</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/46-test-design"><time class="icon-calendar date"> 16 июля 2021</time><br>Практикум по тест-дизайну 2.0</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/189-web"><time class="icon-calendar date"> 16 июля 2021</time><br>Тестирование веб-приложений 2.0</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/234-functional-test-automation"><time class="icon-calendar date"> 23 июля 2021</time><br>Автоматизация функционального тестирования</a></span><li> <span class="course-title"><a href="http://software-testing.ru/edu/3-online/233-python"><time class="icon-calendar date"> 23 июля 2021</time><br>Программирование на Python для тестировщиков</a></span></ul></div></aside></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">О нас</h5><ul class="no-bullet shadow-black"><li><a href="https://webdriver.ru/info/">Пишем про Selenium на русском языке</a></ul></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">RSS/Atom</h5><ul class="no-bullet shadow-black"><li > <a href="" title=""></a><li > <a href="/feed.xml" title="Subscribe to RSS Feed">RSS</a><li > <a href="/atom.xml" title="Subscribe to Atom Feed">Atom</a></ul></div><div class="small-6 medium-3 large-3 columns"><h5 class="shadow-black">Благодарности</h5><ul class="no-bullet shadow-black"><li > <a href="" title=""></a><li class="services-newsletter" > <a href="https://jekyllrb.com/" target="_blank" title="Built with Jekyll">Built with Jekyll</a><li class="services-newsletter" > <a href="https://github.com/Phlow/feeling-responsive" target="_blank" title="Design by Phlow">Design by Phlow</a><li class="services-newsletter" > <a href="http://foundation.zurb.com/" target="_blank" title="Built on Foundation">Built on Foundation</a></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="b30 small-12 medium-6 columns credits"></section><section id="subfooter-right" class="small-12 medium-6 columns social-icons"><ul class="inline-list"></ul></section></nav></div></footer><script src="https://webdriver.ru/assets/js/javascript.min.js"></script></div>
